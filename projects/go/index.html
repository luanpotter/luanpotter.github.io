<!DOCTYPE html>
<html>
  <head>
    <title>Go</title>
    <meta charset="UTF-8">
    <script src="config.js"></script>
    <script src="util.js"></script>
    <script src="draw.js"></script>
    <script src="game.js"></script>
    <script>
      (function () {
        var game = new Go.game();

        var setupCanvas = function (canvas) {
          canvas.width = Go.config.columns * Go.config.grid_size;
          canvas.height = Go.config.rows * Go.config.grid_size;
          canvas.addEventListener('click', Go.util.fn(game.handler.bind(game), canvas), false);
        };

        var init = function () {
          var canvas = document.getElementById("board");

          setupCanvas(canvas);
          game.render(canvas);
        };
        document.addEventListener("DOMContentLoaded", init);
      })();
    </script>
  </head>
  <body>
    <canvas id="board"></canvas>
  </body>
</html>
